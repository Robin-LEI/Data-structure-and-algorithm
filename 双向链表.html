<!DOCTYPE html>
<html>
<head>
	<title>双向链表</title>
</head>
<body>
	<script type="text/javascript">
		function DoublyLinkedList() {
			this.head = null
			this.tail = null
			this.length = 0
			function Node(data) {
				this.prev = null
				this.data = data
				this.next = null
			}
			// append
			DoublyLinkedList.prototype.append = function(data) {
				var node = new Node(data)
				if(this.length == 0) {
					this.head = node
					this.tail = node
				} else {
					node.prev = this.tail
					this.tail.next = node
					this.tail = node
				}
				this.length += 1
			}
			// toString 默认情况下是从前往后
			DoublyLinkedList.prototype.toString = function() {
				return this.backString()
			}
			// forwardString 从后往前
			DoublyLinkedList.prototype.forwardString = function() {
				var current = this.tail
				var result = ''
				while(current) {
					result += current.data + " "
					current = current.prev
				}
				return result
			}
			// backString 从前往后
			DoublyLinkedList.prototype.backString = function() {
				var current = this.head
				var result = ''
				while(current) {
					result += current.data + " "
					current = current.next
				}
				return result
			}
		}

		var dl = new DoublyLinkedList()
		dl.append('robin')
		dl.append('lww')
		dl.append('xudan')

		alert(dl)

		alert(dl.forwardString())
	</script>
</body>
</html>