<!DOCTYPE html>
<html>
<head>
	<title>集合结构</title>
</head>
<body>
	<script type="text/javascript">
		function Set() {
			// 属性
			this.items = {}
			// 方法
			Set.prototype.add = function(value) {
				// 先判断有没有
				if(this.has(value)) return false
				this.items[value] = value
			}
			// has
			Set.prototype.has = function(value) {
				return this.items.hasOwnProperty(value)
			}
			// remove
			Set.prototype.remove = function(value) {
				if(!this.has(value)) return false
				delete this.items[value]
				return true
			}
			// clear
			Set.prototype.clear = function() {
				this.items = {}
			}
			// size
			Set.prototype.size = function() {
				return Object.keys(this.items).length
			}
			// values
			Set.prototype.values = function() {
				return Object.keys(this.items)
			}
			// 集合间操作
			// 并集
			Set.prototype.union = function(other) {
				var newSet = new Set()
				var values = this.values()
				for(var i = 0; i < values.length; i++) {
					newSet.add(values[i])
				}
				values = other.values()
				for(var i = 0; i < values.length; i++) {
					newSet.add(values[i])
				}
				return newSet
			}
			// 交集
			Set.prototype.intersection = function(other) {
				var newSet = new Set()
				var values = this.values()
				for(var i = 0; i < values.length; i++) {
					if(other.has(values[i])) {
						newSet.add(values[i])
					}
				}
				return newSet
			}
		}

		var set = new Set()
		set.add('robin')
		set.add('xudan')
		set.add('lww')

		// alert(set.values())

		// alert(set.size())

		// alert(set.clear())

		// alert(set.size())

		var set2 = new Set()
		set2.add('robin')
		set2.add('hello')
		set2.add('xudan')

		var x = set.union(set2)

		// alert(x.values())

		var y = set.intersection(set2)
		alert(y.values())
	</script>
</body>
</html>